<div class="reports-section">
  <h2>ğŸ“Š Reportes Administrativos</h2>

  <!-- Loading State -->
  @if (isLoading()) {
  <div class="loading">
    <p>ğŸ”„ Cargando reportes...</p>
  </div>
  }

  <!-- Reports Content -->
  @if (!isLoading() && reportData()) {
  <div class="reports-content">
    <!-- Summary Cards -->
    @if (reportData().summary) {
    <div class="summary-section">
      <h3>ğŸ“‹ Resumen General</h3>
      <div class="summary-cards">
        <div class="summary-card">
          <h4>{{ reportData().summary?.total_bookings || 0 }}</h4>
          <p>Total Reservas</p>
        </div>
        <div class="summary-card">
          <h4>{{ reportData().summary?.total_rooms || 0 }}</h4>
          <p>Total Habitaciones</p>
        </div>
        <div class="summary-card">
          <h4>${{ reportData().summary?.avg_booking_value || 0 | number : '1.2-2' }}</h4>
          <p>Promedio por Reserva</p>
        </div>
        <div class="summary-card">
          <h4>{{ reportData().summary?.bookings_last_month || 0 }}</h4>
          <p>Reservas Ãšltimo Mes</p>
        </div>
      </div>
    </div>
    }

    <!-- Occupancy Report -->
    @if (reportData().occupancy) {
    <div class="occupancy-section">
      <h3>ğŸ¨ OcupaciÃ³n Actual</h3>
      <div class="report-card">
        <p><strong>Habitaciones Totales:</strong> {{ reportData().occupancy?.total_rooms }}</p>
        <p><strong>Habitaciones Ocupadas:</strong> {{ reportData().occupancy?.occupied_rooms }}</p>
        <p><strong>Tasa de OcupaciÃ³n:</strong> {{ reportData().occupancy?.occupancy_rate }}%</p>
      </div>
    </div>
    }

    <!-- Revenue Report -->
    @if (reportData().revenue && reportData().revenue!.length > 0) {
    <div class="revenue-section">
      <h3>ğŸ’° Ingresos por Mes</h3>
      <div class="report-card">
        @for (item of reportData().revenue; track item.month) {
        <div class="revenue-item">
          <p><strong>Mes:</strong> {{ item.month | date : 'MMMM yyyy' }}</p>
          <p><strong>Reservas:</strong> {{ item.total_bookings }}</p>
          <p><strong>Ingresos:</strong> ${{ item.total_revenue | number : '1.2-2' }}</p>
        </div>
        }
      </div>
    </div>
    }
  </div>
  }

  <!-- Action Buttons -->
  <div class="actions">
    <button class="btn-primary" (click)="loadReports()" [disabled]="isLoading()">
      ğŸ”„ {{ isLoading() ? 'Cargando...' : 'Actualizar Reportes' }}
    </button>
  </div>

  <!-- Empty State -->
  @if (!isLoading() && !reportData().summary && !reportData().occupancy && !reportData().revenue) {
  <div class="empty-state">
    <p>No hay datos de reportes disponibles.</p>
  </div>
  }
</div>
